(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{685:function(s,a,t){s.exports=t.p+"assets/img/image-20210207174523696.89d963c1.png"},686:function(s,a,t){s.exports=t.p+"assets/img/image-20210207174547162.286a2810.png"},687:function(s,a,t){s.exports=t.p+"assets/img/image-20210207174628514.c1bb25d7.png"},688:function(s,a,t){s.exports=t.p+"assets/img/image-20210207174722054.3257f54b.png"},689:function(s,a,t){s.exports=t.p+"assets/img/image-20210207174747794.c69cb785.png"},690:function(s,a,t){s.exports=t.p+"assets/img/image-20210207174830081.0ecf59e8.png"},807:function(s,a,t){"use strict";t.r(a);var n=t(13),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"jvm-字节码指令与-javap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jvm-字节码指令与-javap"}},[s._v("#")]),s._v(" JVM 字节码指令与 javap")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("用法: javap "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("classes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n其中, 可能的选项包括:\n  -help  --help  -?        输出此用法消息\n  -version                 版本信息\n  -v  -verbose             输出附加信息\n  -l                       输出行号和本地变量表\n  -public                  仅显示公共类和成员\n  -protected               显示受保护的/公共类和成员\n  -package                 显示程序包/受保护的/公共类\n                           和成员 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("默认"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -p  -private             显示所有类和成员\n  -c                       对代码进行反汇编\n  -s                       输出内部类型签名\n  -sysinfo                 显示正在处理的类的\n                           系统信息 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("路径, 大小, 日期, MD5 散列"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -constants               显示最终常量\n  -classpath "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        指定查找用户类文件的位置\n  -cp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("               指定查找用户类文件的位置\n  -bootclasspath "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("    覆盖引导类文件的位置\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("下面是一些官方文档地址：")]),s._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://docs.oracle.com/javase/specs/jvms/se8/html/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JAVA 虚拟机规范"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4",target:"_blank",rel:"noopener noreferrer"}},[s._v("常量池"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("虚拟机指令集"),n("OutboundLink")],1),s._v("：查阅各个指令的含义")])])]),s._v(" "),n("h2",{attrs:{id:"查看一个-class-文件的字节码信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看一个-class-文件的字节码信息"}},[s._v("#")]),s._v(" 查看一个 class 文件的字节码信息")]),s._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4",target:"_blank",rel:"noopener noreferrer"}},[s._v("CLass 文件格式官方文档"),n("OutboundLink")],1),s._v(" 再次强调：本节内容知识，要想明白最好通读下官方文档的说明，里面讲得很详细")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("cn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("chapter8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("使用 IDEA 开发的话，直接找到 class 目录（这个要看你用的是什么打包工具），笔者是 gradle")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入到该文件的 class 文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/mrcode/IdeaProjects/monitor-tuning/build/classes/java/main/cn/mrcode/stady/monitor_tuning/chapter8\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出到指定文件")]),s._v("\njavap -v Test1.class "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" test1.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("test1.txt 文件内容如下，里面就是对应的字节码内容")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Classfile")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Users")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IdeaProjects")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("monitor"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("tuning"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("classes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("java"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("chapter8"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Last")]),s._v(" modified "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" size "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("659")]),s._v(" bytes\n  MD5 checksum "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("354f")]),s._v("dbdbbc2263bb6c52bf320134a8d9\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Compiled")]),s._v(" from "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Test1.java"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 类名与 JDK 版本号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("cn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("chapter8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Test1")]),s._v("\n  minor version"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  major version"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v("\n  flags"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ACC_PUBLIC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ACC_SUPER  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 访问标识符")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常量池")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 里面的引用都是符号引用，在运行时会转成直接引用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Constant")]),s._v(" pool"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" \n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 方法引用，部分常量后面的注释是引用的内容，可以跳到具体的常量查看")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 也可以直接看后面的注释内容")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Methodref")]),s._v("          #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v("#"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// java/lang/Object."<init>":()V')]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Fieldref")]),s._v("           #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.")]),s._v("#"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// java/lang/System.out:Ljava/io/PrintStream;")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Methodref")]),s._v("          #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.")]),s._v("#"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// java/io/PrintStream.println:(I)V")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 第 4 个常量是一个 Class 引用了 #29 这个常量")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v("              #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// cn/mrcode/stady/monitor_tuning/chapter8/Test1")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v("              #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// java/lang/Object")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 构造函数  ")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("init"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("V")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Code")]),s._v("\n   #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LineNumberTable")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalVariableTable")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lcn")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("chapter8"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               main\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Ljava")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("V")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               args\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Ljava")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               a\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("I")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               b\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               c\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodParameters")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SourceFile")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameAndType")]),s._v("        #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("#"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "<init>":()V')]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v("              #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// java/lang/System")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameAndType")]),s._v("        #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("#"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// out:Ljava/io/PrintStream;")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v("              #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// java/io/PrintStream")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameAndType")]),s._v("        #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("#"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// println:(I)V")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// #29 常量，是一个 Utf8，即是一个字符串                          ")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               cn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("chapter8"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test1")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               java"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               java"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               out\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Ljava")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("io"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrintStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               java"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("io"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrintStream")]),s._v("\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               println\n  #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Utf8")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("I")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("V")]),s._v("\n                            \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("cn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("chapter8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Test1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    descriptor"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("V")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 构造函数，返回是 void")]),s._v("\n    flags"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ACC_PUBLIC\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Code")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      stack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" locals"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args_size"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" aload_0\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" invokespecial #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// Method java/lang/Object."<init>":()V')]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LineNumberTable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalVariableTable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Start")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Length")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slot")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Name")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Signature")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lcn")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mrcode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stady"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("monitor_tuning"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("chapter8"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main 函数")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    descriptor"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Ljava")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("V")]),s._v("\n    flags"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ACC_PUBLIC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ACC_STATIC\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Code")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// code 里面的内容也就是我们在 psvm 里面编写的类容的字节码")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 操作栈的深度为 2")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地变量表最大长度（slot 为单位），64 位是 2，其他是 1，索引从 0 开始，")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果是非 static 方法，索引 0 代表 this，后面是入参")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地变量表在这个信息的最后面有也就是：LocalVariableTable")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 有 1 个参数")]),s._v("\n      stack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" locals"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args_size"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iconst_2\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常量 2 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_1\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出栈保存到本地变量 1 里面")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iconst_3\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常量 3 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_2\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出栈保存到本地变量 2 里面")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_1\t\t  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 局部变量 1 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_2\t\t  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 局部变量 2 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iadd\t\t    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 栈顶两个元素相加，计算结果压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_3\t  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出栈保存到局部变量 3 里面")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" getstatic     #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Field java/lang/System.out:Ljava/io/PrintStream;")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_3\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" invokevirtual #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Method java/io/PrintStream.println:(I)V")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 行号表")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// line 5: 对应文件里面的代码行号")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 0：代表的是 code 里面的前面的操作步骤")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LineNumberTable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地变量表")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalVariableTable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Start")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Length")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slot")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Name")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Signature")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  args   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Ljava")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lang"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     a   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("I")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     b   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("I")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("     c   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("I")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodParameters")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Name")]),s._v("                           "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Flags")]),s._v("\n      args\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SourceFile")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Test1.java"')]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br")])]),n("h3",{attrs:{id:"字段描述符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#字段描述符"}},[s._v("#")]),s._v(" 字段描述符")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[n("em",[s._v("FieldType")]),s._v(" term "),n("br"),s._v(" 字节类型")]),s._v(" "),n("th",[s._v("Type"),n("br"),s._v(" 原码类型")]),s._v(" "),n("th",[s._v("Interpretation")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[n("code",[s._v("B")])]),s._v(" "),n("td",[n("code",[s._v("byte")])]),s._v(" "),n("td",[s._v("signed byte")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("C")])]),s._v(" "),n("td",[n("code",[s._v("char")])]),s._v(" "),n("td",[s._v("Unicode character code point in the Basic Multilingual Plane, encoded with UTF-16")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("D")])]),s._v(" "),n("td",[n("code",[s._v("double")])]),s._v(" "),n("td",[s._v("double-precision floating-point value")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("F")])]),s._v(" "),n("td",[n("code",[s._v("float")])]),s._v(" "),n("td",[s._v("single-precision floating-point value")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("I")])]),s._v(" "),n("td",[n("code",[s._v("int")])]),s._v(" "),n("td",[s._v("integer")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("J")])]),s._v(" "),n("td",[n("code",[s._v("long")])]),s._v(" "),n("td",[s._v("long integer")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("L")]),s._v(" "),n("em",[s._v("ClassName")]),s._v(" "),n("code",[s._v(";")])]),s._v(" "),n("td",[n("code",[s._v("reference")])]),s._v(" "),n("td",[s._v("引用类型，是这个类的一个实例")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("S")])]),s._v(" "),n("td",[n("code",[s._v("short")])]),s._v(" "),n("td",[s._v("signed short")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("Z")])]),s._v(" "),n("td",[n("code",[s._v("boolean")])]),s._v(" "),n("td",[n("code",[s._v("true")]),s._v(" or "),n("code",[s._v("false")])])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("[")])]),s._v(" "),n("td",[n("code",[s._v("reference")])]),s._v(" "),n("td",[s._v("数组实例")])])])]),s._v(" "),n("h3",{attrs:{id:"方法描述符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方法描述符"}},[s._v("#")]),s._v(" 方法描述符")]),s._v(" "),n("p",[s._v("方法描述符：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Object m(int i, double d, Thread t) {...}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("字节码中是这样的:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("IDLjava/lang/Thread"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("Ljava/lang/Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# IDL: 是方法的参数类型，也就是字段描述符对应的含义")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("需要注意的是的二进制名称的内部形式 "),n("code",[s._v("Thread")]),s._v(" 和 "),n("code",[s._v("Object")]),s._v(" 使用。")]),s._v(" "),n("h2",{attrs:{id:"基于栈的架构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于栈的架构"}},[s._v("#")]),s._v(" 基于栈的架构")]),s._v(" "),n("p",[s._v("jvm 执行指令是基于栈的架构，还有听到最多的是基于寄存器的架构。")]),s._v(" "),n("p",[s._v("我们具体关注一下代码信息")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("以上代码对应的指令是下面这个")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[s._v("         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// int a = 2 对应下面两个指令操作")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 含义是：将常量 2 压入栈，然后出栈将值赋给本地变量 2")]),s._v("\n\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iconst_2\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常量 2 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_1\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出栈保存到本地变量 1 里面")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// int b = 3")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iconst_3\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常量 3 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_2\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出栈保存到本地变量 2 里面")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// int c = a + b")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_1\t\t  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地变量 1 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_2\t\t  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地变量 2 压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iadd\t\t    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 栈顶两个元素相加，计算结果压栈")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_3\t  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出栈保存到本地变量 3 里面")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// System.out.println(c);")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是一个 Fieldref 引用， 引用了常量池中的 #2，获取了一个静态方法")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" getstatic     #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Field java/lang/System.out:Ljava/io/PrintStream;")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_3\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地变量 3 压栈，也就是计算结果")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里执行了 #3 引用，也就是 println 方法")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" invokevirtual #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Method java/io/PrintStream.println:(I)V")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("使用图示表示如下：")]),s._v(" "),n("p",[s._v("将 2 赋值到本地变量表 1")]),s._v(" "),n("p",[n("img",{attrs:{src:t(685),alt:"image-20210207174523696"}})]),s._v(" "),n("p",[s._v("将 3 赋值到本地变量表 2")]),s._v(" "),n("p",[n("img",{attrs:{src:t(686),alt:"image-20210207174547162"}})]),s._v(" "),n("p",[s._v("将本地变量表 1、2 压栈")]),s._v(" "),n("p",[n("img",{attrs:{src:t(687),alt:"image-20210207174628514"}})]),s._v(" "),n("p",[s._v("计算栈顶两个数值的值，留在栈中的一个元素则是计算后的结果，将该结果出栈，存储在本地变量表 3 中")]),s._v(" "),n("p",[n("img",{attrs:{src:t(688),alt:"image-20210207174722054"}})]),s._v(" "),n("p",[s._v("获取了一个静态方法的引用，并将本地变量 3 压栈，形成一个引用和一个参数")]),s._v(" "),n("p",[n("img",{attrs:{src:t(689),alt:"image-20210207174747794"}})]),s._v(" "),n("p",[s._v("执行方法，并返回结束该 main 函数")]),s._v(" "),n("p",[n("img",{attrs:{src:t(690),alt:"image-20210207174830081"}})]),s._v(" "),n("p",[s._v("以上指令集的含义，请仔细阅读官方文档，这里以 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.invokevirtual",target:"_blank",rel:"noopener noreferrer"}},[s._v("invokevirtual"),n("OutboundLink")],1),s._v(" 来举例，如何看懂这个文档")]),s._v(" "),n("blockquote",[n("h4",{attrs:{id:"operation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#operation"}},[s._v("#")]),s._v(" Operation")]),s._v(" "),n("p",[s._v("Invoke instance method; dispatch based on class")]),s._v(" "),n("p",[s._v("调用实例方法;基于类的调度")]),s._v(" "),n("h4",{attrs:{id:"format"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#format"}},[s._v("#")]),s._v(" Format")]),s._v(" "),n("p",[n("em",[s._v("invokevirtual")]),s._v(" "),n("em",[s._v("indexbyte1")]),s._v(" "),n("em",[s._v("indexbyte2")])]),s._v(" "),n("h4",{attrs:{id:"forms"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#forms"}},[s._v("#")]),s._v(" Forms")]),s._v(" "),n("p",[n("em",[s._v("invokevirtual")]),s._v(" = 182 (0xb6)")]),s._v(" "),n("h4",{attrs:{id:"operand-stack-对操作数栈的要求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#operand-stack-对操作数栈的要求"}},[s._v("#")]),s._v(" Operand Stack / 对操作数栈的要求")]),s._v(" "),n("p",[s._v("..., "),n("em",[s._v("objectref")]),s._v(", ["),n("em",[s._v("arg1")]),s._v(", ["),n("em",[s._v("arg2")]),s._v(" ...]] →")]),s._v(" "),n("p",[s._v("...")]),s._v(" "),n("p",[s._v("里面需要现有一个 objectref ，对应本例则是  getstatic")]),s._v(" "),n("p",[s._v("后面需要有该方法的参数，对应本例则是 iload_3")]),s._v(" "),n("p",[s._v("有了这两个，就可以执行 "),n("em",[s._v("invokevirtual")]),s._v(" 指令了")])]),s._v(" "),n("p",[s._v("对于官方的英文文档，如果看不懂的话，可以去百度该指令，英文对于指令来说，它的变化是不怎么频繁的")])])}),[],!1,null,null,null);a.default=e.exports}}]);