<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>06 | HTTP 有哪些特点？ | NOTE-BOOK2</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/note-book2/favicon.ico">
    <link rel="manifest" href="/note-book2/manifest.json">
    <meta name="description" content="note-book 的第二分仓笔记仓库">
    
    <link rel="preload" href="/note-book2/assets/css/0.styles.36b9479e.css" as="style"><link rel="preload" href="/note-book2/assets/js/app.b6298c27.js" as="script"><link rel="preload" href="/note-book2/assets/js/2.64eb5107.js" as="script"><link rel="preload" href="/note-book2/assets/js/74.74bf2cc7.js" as="script"><link rel="preload" href="/note-book2/assets/js/50.da39fd24.js" as="script"><link rel="prefetch" href="/note-book2/assets/js/10.f2f15088.js"><link rel="prefetch" href="/note-book2/assets/js/100.b7a284fd.js"><link rel="prefetch" href="/note-book2/assets/js/101.54042053.js"><link rel="prefetch" href="/note-book2/assets/js/102.5bab3651.js"><link rel="prefetch" href="/note-book2/assets/js/103.3d283f19.js"><link rel="prefetch" href="/note-book2/assets/js/104.2fbe9651.js"><link rel="prefetch" href="/note-book2/assets/js/105.3e2ec64c.js"><link rel="prefetch" href="/note-book2/assets/js/106.25ccda3b.js"><link rel="prefetch" href="/note-book2/assets/js/107.90cc2754.js"><link rel="prefetch" href="/note-book2/assets/js/108.4e4472c8.js"><link rel="prefetch" href="/note-book2/assets/js/109.8c927ccc.js"><link rel="prefetch" href="/note-book2/assets/js/11.57132374.js"><link rel="prefetch" href="/note-book2/assets/js/110.6e9ab0a5.js"><link rel="prefetch" href="/note-book2/assets/js/111.cf4db3b8.js"><link rel="prefetch" href="/note-book2/assets/js/112.db9efc72.js"><link rel="prefetch" href="/note-book2/assets/js/113.bc497656.js"><link rel="prefetch" href="/note-book2/assets/js/114.7b29fa0f.js"><link rel="prefetch" href="/note-book2/assets/js/115.6ecd72ad.js"><link rel="prefetch" href="/note-book2/assets/js/116.714ba37d.js"><link rel="prefetch" href="/note-book2/assets/js/117.20fc6ca9.js"><link rel="prefetch" href="/note-book2/assets/js/118.23c68cc5.js"><link rel="prefetch" href="/note-book2/assets/js/119.22353b91.js"><link rel="prefetch" href="/note-book2/assets/js/12.e186564a.js"><link rel="prefetch" href="/note-book2/assets/js/13.8f2e6b3f.js"><link rel="prefetch" href="/note-book2/assets/js/14.5af7e630.js"><link rel="prefetch" href="/note-book2/assets/js/15.2ee25eab.js"><link rel="prefetch" href="/note-book2/assets/js/16.0f760848.js"><link rel="prefetch" href="/note-book2/assets/js/17.82010583.js"><link rel="prefetch" href="/note-book2/assets/js/18.94bb2fcd.js"><link rel="prefetch" href="/note-book2/assets/js/19.8d83e367.js"><link rel="prefetch" href="/note-book2/assets/js/20.9853e81d.js"><link rel="prefetch" href="/note-book2/assets/js/21.a60e512a.js"><link rel="prefetch" href="/note-book2/assets/js/22.0a718618.js"><link rel="prefetch" href="/note-book2/assets/js/23.d0085c3c.js"><link rel="prefetch" href="/note-book2/assets/js/24.64c99be0.js"><link rel="prefetch" href="/note-book2/assets/js/25.7f138222.js"><link rel="prefetch" href="/note-book2/assets/js/26.c38b4f1f.js"><link rel="prefetch" href="/note-book2/assets/js/27.3c23ee36.js"><link rel="prefetch" href="/note-book2/assets/js/28.17a30eb5.js"><link rel="prefetch" href="/note-book2/assets/js/29.1080ae7e.js"><link rel="prefetch" href="/note-book2/assets/js/3.39c53e9a.js"><link rel="prefetch" href="/note-book2/assets/js/30.e12e7194.js"><link rel="prefetch" href="/note-book2/assets/js/31.1b4d10d3.js"><link rel="prefetch" href="/note-book2/assets/js/32.088b464e.js"><link rel="prefetch" href="/note-book2/assets/js/33.b6d5b301.js"><link rel="prefetch" href="/note-book2/assets/js/34.07a7bd18.js"><link rel="prefetch" href="/note-book2/assets/js/35.c1778ec0.js"><link rel="prefetch" href="/note-book2/assets/js/36.9c952bcf.js"><link rel="prefetch" href="/note-book2/assets/js/37.538120d6.js"><link rel="prefetch" href="/note-book2/assets/js/38.379b1ac9.js"><link rel="prefetch" href="/note-book2/assets/js/39.9825dc44.js"><link rel="prefetch" href="/note-book2/assets/js/4.80b43ba9.js"><link rel="prefetch" href="/note-book2/assets/js/40.7502629c.js"><link rel="prefetch" href="/note-book2/assets/js/41.e918a100.js"><link rel="prefetch" href="/note-book2/assets/js/42.6d79fd40.js"><link rel="prefetch" href="/note-book2/assets/js/43.f40c79b3.js"><link rel="prefetch" href="/note-book2/assets/js/44.66b4fb8b.js"><link rel="prefetch" href="/note-book2/assets/js/45.58d7b7db.js"><link rel="prefetch" href="/note-book2/assets/js/46.3e86cb70.js"><link rel="prefetch" href="/note-book2/assets/js/47.1ceb15d6.js"><link rel="prefetch" href="/note-book2/assets/js/48.7405fe2c.js"><link rel="prefetch" href="/note-book2/assets/js/49.f512df2d.js"><link rel="prefetch" href="/note-book2/assets/js/5.a817fe71.js"><link rel="prefetch" href="/note-book2/assets/js/51.1befb9db.js"><link rel="prefetch" href="/note-book2/assets/js/52.ee2cc35e.js"><link rel="prefetch" href="/note-book2/assets/js/53.b7d4d642.js"><link rel="prefetch" href="/note-book2/assets/js/54.7597b610.js"><link rel="prefetch" href="/note-book2/assets/js/55.b99d68c9.js"><link rel="prefetch" href="/note-book2/assets/js/56.3260f107.js"><link rel="prefetch" href="/note-book2/assets/js/57.4c3d32ae.js"><link rel="prefetch" href="/note-book2/assets/js/58.858f5030.js"><link rel="prefetch" href="/note-book2/assets/js/59.5bb43d22.js"><link rel="prefetch" href="/note-book2/assets/js/6.e66ff3e3.js"><link rel="prefetch" href="/note-book2/assets/js/60.604f3715.js"><link rel="prefetch" href="/note-book2/assets/js/61.133da1fe.js"><link rel="prefetch" href="/note-book2/assets/js/62.b9d97f09.js"><link rel="prefetch" href="/note-book2/assets/js/63.b54ac379.js"><link rel="prefetch" href="/note-book2/assets/js/64.11aa21b9.js"><link rel="prefetch" href="/note-book2/assets/js/65.f7fc56f3.js"><link rel="prefetch" href="/note-book2/assets/js/66.11cdb117.js"><link rel="prefetch" href="/note-book2/assets/js/67.c393eaf5.js"><link rel="prefetch" href="/note-book2/assets/js/68.ee9541b2.js"><link rel="prefetch" href="/note-book2/assets/js/69.d3d86051.js"><link rel="prefetch" href="/note-book2/assets/js/7.cf57fdd5.js"><link rel="prefetch" href="/note-book2/assets/js/70.8466e474.js"><link rel="prefetch" href="/note-book2/assets/js/71.e4c9766c.js"><link rel="prefetch" href="/note-book2/assets/js/72.efa3abc7.js"><link rel="prefetch" href="/note-book2/assets/js/73.534593d2.js"><link rel="prefetch" href="/note-book2/assets/js/75.84a69486.js"><link rel="prefetch" href="/note-book2/assets/js/76.6a4151a2.js"><link rel="prefetch" href="/note-book2/assets/js/77.bc69de12.js"><link rel="prefetch" href="/note-book2/assets/js/78.ef857f92.js"><link rel="prefetch" href="/note-book2/assets/js/79.a994a308.js"><link rel="prefetch" href="/note-book2/assets/js/8.1e1b7412.js"><link rel="prefetch" href="/note-book2/assets/js/80.bb3ad06d.js"><link rel="prefetch" href="/note-book2/assets/js/81.65c1333d.js"><link rel="prefetch" href="/note-book2/assets/js/82.261800cd.js"><link rel="prefetch" href="/note-book2/assets/js/83.44998c31.js"><link rel="prefetch" href="/note-book2/assets/js/84.85b6a88a.js"><link rel="prefetch" href="/note-book2/assets/js/85.9a33a277.js"><link rel="prefetch" href="/note-book2/assets/js/86.1d5b478f.js"><link rel="prefetch" href="/note-book2/assets/js/87.a2ea9583.js"><link rel="prefetch" href="/note-book2/assets/js/88.aa84de6d.js"><link rel="prefetch" href="/note-book2/assets/js/89.9f568c0c.js"><link rel="prefetch" href="/note-book2/assets/js/9.bfb9d1de.js"><link rel="prefetch" href="/note-book2/assets/js/90.83f66c97.js"><link rel="prefetch" href="/note-book2/assets/js/91.7eec9066.js"><link rel="prefetch" href="/note-book2/assets/js/92.edafca68.js"><link rel="prefetch" href="/note-book2/assets/js/93.a12f5c78.js"><link rel="prefetch" href="/note-book2/assets/js/94.bdaa08e2.js"><link rel="prefetch" href="/note-book2/assets/js/95.37064771.js"><link rel="prefetch" href="/note-book2/assets/js/96.610fe9bd.js"><link rel="prefetch" href="/note-book2/assets/js/97.5f6322c4.js"><link rel="prefetch" href="/note-book2/assets/js/98.175c6f9c.js"><link rel="prefetch" href="/note-book2/assets/js/99.e9545cc8.js">
    <link rel="stylesheet" href="/note-book2/assets/css/0.styles.36b9479e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-book2/" class="home-link router-link-active"><img src="/note-book2/mlogo.svg" alt="NOTE-BOOK2" class="logo"> <span class="site-name can-hide">NOTE-BOOK2</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-book2/monitor-tuning/" class="nav-link">
  JAVA 生产环境下性能监控与调优详解
</a></div><div class="nav-item"><a href="/note-book2/http-protocol/" class="nav-link router-link-active">
  透视 HTTP 协议
</a></div><div class="nav-item"><a href="/note-book2/ddd/" class="nav-link">
  DDD 实战课
</a></div> <a href="https://github.com/zq99299/note-book2" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note-book2/monitor-tuning/" class="nav-link">
  JAVA 生产环境下性能监控与调优详解
</a></div><div class="nav-item"><a href="/note-book2/http-protocol/" class="nav-link router-link-active">
  透视 HTTP 协议
</a></div><div class="nav-item"><a href="/note-book2/ddd/" class="nav-link">
  DDD 实战课
</a></div> <a href="https://github.com/zq99299/note-book2" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/note-book2/http-protocol/" aria-current="page" class="sidebar-link">透视 HTTP 协议</a></li><li><a href="/note-book2/http-protocol/01/" class="sidebar-link">01 | 开篇: To Be a HTTP Hero</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/note-book2/http-protocol/02/" class="sidebar-heading clickable"><span>02 | 破冰篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note-book2/http-protocol/03/" class="sidebar-heading clickable router-link-active open"><span>03 | 基础篇</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/note-book2/http-protocol/03/01.html" class="sidebar-link">01 | 键入网址再按下回车，后面究竟发生了什么？</a></li><li><a href="/note-book2/http-protocol/03/02.html" class="sidebar-link">02 | HTTP 报文是什么样子的？</a></li><li><a href="/note-book2/http-protocol/03/03.html" class="sidebar-link">03 | 应该如何理解请求方法？</a></li><li><a href="/note-book2/http-protocol/03/04.html" class="sidebar-link">04 | 你能写出正确的网址吗？</a></li><li><a href="/note-book2/http-protocol/03/05.html" class="sidebar-link">05 | 响应状态码该怎么用？</a></li><li><a href="/note-book2/http-protocol/03/06.html" aria-current="page" class="active sidebar-link">06 | HTTP 有哪些特点？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#灵活可扩展" class="sidebar-link">灵活可扩展</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#可靠传输" class="sidebar-link">可靠传输</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#应用层协议" class="sidebar-link">应用层协议</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#请求-应答" class="sidebar-link">请求 - 应答</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#无状态" class="sidebar-link">无状态</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#其他特点" class="sidebar-link">其他特点</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#小结" class="sidebar-link">小结</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#课下作业" class="sidebar-link">课下作业</a></li><li class="sidebar-sub-header"><a href="/note-book2/http-protocol/03/06.html#课外小贴士" class="sidebar-link">课外小贴士</a></li></ul></li><li><a href="/note-book2/http-protocol/03/07.html" class="sidebar-link">07 | HTTP有哪些优点？又有哪些缺点？</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note-book2/http-protocol/04/" class="sidebar-heading clickable"><span>04 | 进阶篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note-book2/http-protocol/05/" class="sidebar-heading clickable"><span>05 | 安全篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note-book2/http-protocol/06/" class="sidebar-heading clickable"><span>06 | 飞翔篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note-book2/http-protocol/07/" class="sidebar-heading clickable"><span>07 | 探索篇</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/note-book2/http-protocol/08/" class="sidebar-link">08 | 总结篇: HTTP 性能优化面面观</a></li><li><a href="/note-book2/http-protocol/09.html" class="sidebar-link">参考资源</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_06-http-有哪些特点"><a href="#_06-http-有哪些特点" class="header-anchor">#</a> 06 | HTTP 有哪些特点？</h1> <p>通过基础篇前几讲的学习，你应该已经知道了 HTTP 协议的基本知识，了解它的报文结构，请求头、响应头以及内部的请求方法、URI 和状态码等细节。</p> <p>你会不会有种疑惑：HTTP 协议好像也挺简单的啊，凭什么它就能统治互联网这么多年呢？</p> <p>所以接下来的这两讲，我会跟你聊聊 HTTP 协议的特点、优点和缺点。既要看到它好的一面，也要正视它不好的一面，只有全方位、多角度了解 HTTP，才能实现“扬长避短”，更好地利用 HTTP。</p> <p>今天这节课主要说的是 HTTP 协议的特点，但不会讲它们的好坏，这些特点即有可能是优点，也有可能是缺点，你可以边听边思考。</p> <p><img src="/note-book2/assets/img/7808b195c921e0685958c20509855d4a.7808b195.png" alt="img"></p> <h2 id="灵活可扩展"><a href="#灵活可扩展" class="header-anchor">#</a> 灵活可扩展</h2> <p>首先， HTTP 协议是一个 <strong>灵活可扩展</strong> 的传输协议。</p> <p>HTTP 协议最初诞生的时候就比较简单，本着开放的精神只规定了报文的基本格式，比如用空格分隔单词，用换行分隔字段，<code>header+body</code> 等，报文里的各个组成部分都没有做严格的语法语义限制，可以由开发者任意定制。</p> <p>所以，HTTP 协议就随着互联网的发展一同成长起来了。在这个过程中，HTTP 协议逐渐增加了请求方法、版本号、状态码、头字段等特性。而 body 也不再限于文本形式的 TXT 或 HTML，而是能够传输图片、音频视频等任意数据，这些都是源于它的灵活可扩展的特点。</p> <p>而那些 RFC 文档，实际上也可以理解为是对已有扩展的 <strong>承认和标准化</strong>，实现了 「从实践中来，到实践中去」的良性循环。</p> <p>也正是因为这个特点，HTTP 才能在三十年的历史长河中「屹立不倒」，从最初的低速实验网络发展到现在的遍布全球的高速互联网，始终保持着旺盛的生命力。</p> <h2 id="可靠传输"><a href="#可靠传输" class="header-anchor">#</a> 可靠传输</h2> <p>第二个特点， HTTP 协议是一个“可靠”的传输协议。</p> <p>这个特点显而易见，因为 HTTP 协议是基于 TCP/IP 的，而 TCP 本身是一个 <strong>可靠</strong> 的传输协议，所以 HTTP 自然也就继承了这个特性，能够在请求方和应答方之间“可靠”地传输数据。</p> <p>它的具体做法与 TCP/UDP 差不多，都是对实际传输的数据（entity）做了一层包装，加上一个头，然后调用 Socket API，通过 TCP/IP 协议栈发送或者接收。</p> <p>不过我们必须正确地理解 <strong>可靠</strong> 的含义，HTTP 并不能 100% 保证数据一定能够发送到另一端，在网络繁忙、连接质量差等恶劣的环境下，也有可能收发失败。 <strong>可靠</strong> 只是向使用者提供了一个 <strong>承诺</strong> ，会在下层用多种手段 <strong>尽量</strong> 保证数据的完整送达。</p> <p>当然，如果遇到光纤被意外挖断这样的极端情况，即使是神仙也不能发送成功。所以，可靠传输是指在网络基本正常的情况下数据收发必定成功，借用运维里的术语，大概就是 「3 个 9」或者「4 个  9」的程度吧。</p> <h2 id="应用层协议"><a href="#应用层协议" class="header-anchor">#</a> 应用层协议</h2> <p>第三个特点，HTTP 协议是一个应用层的协议。</p> <p>这个特点也是不言自明的，但却很重要。</p> <p>在 TCP/IP 诞生后的几十年里，虽然出现了许多的应用层协议，但它们都仅关注很小的应用领域，局限在很少的应用场景。例如 FTP 只能传输文件、SMTP 只能发送邮件、SSH 只能远程登录等，在通用的数据传输方面 <strong>完全不能打</strong> 。</p> <p>所以 HTTP 凭借着 <strong>可携带任意头字段和实体数据的报文结构</strong> ，以及连接控制、缓存代理等方便易用的特性，一出现就技压群雄，迅速成为了应用层里的明星协议。只要不太苛求性能，HTTP 几乎可以传递一切东西，满足各种需求，称得上是一个万能的协议。</p> <p>套用一个网上流行的段子，HTTP 完全可以用开玩笑的口吻说：不要误会，我不是针对 FTP，我是说在座的应用层各位，都是垃圾。</p> <h2 id="请求-应答"><a href="#请求-应答" class="header-anchor">#</a> 请求 - 应答</h2> <p>第四个特点，HTTP 协议使用的是请求 - 应答通信模式。</p> <p>这个请求 - 应答模式是 HTTP 协议最根本的通信模型，通俗来讲就是 <strong>一发一收、有来有去</strong> ，就像是写代码时的函数调用，只要填好请求头里的字段，调用后就会收到答复。</p> <p>请求 - 应答模式也明确了 HTTP 协议里通信双方的定位，<strong>永远是请求方先发起连接和请求</strong> ，<strong>是主动的</strong> ，而应答方只有在收到请求后才能答复，是被动的，如果没有请求时不会有任何动作。</p> <p>当然，请求方和应答方的角色也不是绝对的，在浏览器 - 服务器的场景里，通常服务器都是应答方，但如果将它用作代理连接后端服务器，那么它就可能同时扮演请求方和应答方的角色。</p> <p>HTTP 的请求 - 应答模式也恰好契合了传统的 C/S（Client/Server）系统架构，请求方作为客户端、应答方作为服务器。所以，随着互联网的发展就出现了 B/S（Browser/Server）架构，用轻量级的浏览器代替笨重的客户端应用，实现零维护的瘦客户端，而服务器则摈弃私有通信协议转而使用 HTTP 协议。</p> <p>此外，请求 - 应答模式也完全符合 RPC（Remote Procedure Call）的工作模式，可以把 HTTP 请求处理封装成远程函数调用，导致了 WebService、RESTful 和 gPRC 等的出现。</p> <h2 id="无状态"><a href="#无状态" class="header-anchor">#</a> 无状态</h2> <p>第五个特点，HTTP 协议是无状态的。</p> <p>这个所谓的 <strong>状态</strong> 应该怎么理解呢？</p> <p>状态其实就是客户端或者服务器里保存的一些数据或者标志，记录了通信过程中的一些变化信息。</p> <p>你一定知道，TCP 协议是有状态的，一开始处于 CLOSED 状态，连接成功后是 ESTABLISHED 状态，断开连接后是 FIN-WAIT 状态，最后又是 CLOSED 状态。</p> <p>这些状态就需要 TCP 在内部用一些数据结构去维护，可以简单地想象成是个标志量，标记当前所处的状态，例如 0 是 CLOSED，2 是 ESTABLISHED 等等。</p> <p>再来看 HTTP，那么对比一下 TCP 就看出来了，<strong>在整个协议里没有规定任何的状态</strong> ，客户端和服务器永远是处在一种 <strong>无知</strong> 的状态。建立连接前两者互不知情，每次收发的报文也都是互相独立的，没有任何的联系。收发报文也不会对客户端或服务器产生任何影响，连接后也不会要求保存任何信息。</p> <p><strong>无状态</strong> 形象地来说就是没有记忆能力。比如，浏览器发了一个请求，说「我是小明，请给我 A 文件。」，服务器收到报文后就会检查一下权限，看小明确实可以访问 A 文件，于是把文件发回给浏览器。接着浏览器还想要 B 文件，但服务器不会记录刚才的请求状态，不知道第二个请求和第一个请求是同一个浏览器发来的，所以浏览器必须还得重复一次自己的身份才行：「我是刚才的小明，请再给我 B 文件。」</p> <p>我们可以再对比一下 UDP 协议，不过它是无连接也无状态的，顺序发包乱序收包，数据包发出去后就不管了，收到后也不会顺序整理。而 HTTP 是有连接无状态，顺序发包顺序收包，按照收发的顺序管理报文。</p> <p>但不要忘了 HTTP 是 <strong>灵活可扩展</strong> 的，虽然标准里没有规定状态，但完全能够在协议的框架里给它打个补丁，增加这个特性。</p> <h2 id="其他特点"><a href="#其他特点" class="header-anchor">#</a> 其他特点</h2> <p>除了以上的五大特点，其实 HTTP 协议还可以列出非常多的特点，例如传输的实体数据可缓存可压缩、可分段获取数据、支持身份认证、支持国际化语言等。但这些并不能算是 HTTP 的基本特点，因为这都是由第一个 <strong>灵活可扩展</strong> 的特点所衍生出来的。</p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <ol><li>HTTP 是灵活可扩展的，可以任意添加头字段实现任意功能；</li> <li>HTTP 是可靠传输协议，基于 TCP/IP 协议“尽量”保证数据的送达；</li> <li>HTTP 是应用层协议，比 FTP、SSH 等更通用功能更多，能够传输任意数据；</li> <li>HTTP 使用了请求 - 应答模式，客户端主动发起请求，服务器被动回复请求；</li> <li>HTTP 本质上是无状态的，每个请求都是互相独立、毫无关联的，协议不要求客户端或服务器记录请求相关的信息。</li></ol> <h2 id="课下作业"><a href="#课下作业" class="header-anchor">#</a> 课下作业</h2> <ol><li><p>就如同开头我讲的那样，你能说一下今天列出的这些 HTTP 的特点中哪些是优点，哪些是缺点吗？</p> <p>笔者认为：以上特点在既定的场景中就是优点也可能是缺点，比如无状态，需要额外的来打补丁实现</p></li> <li><p>不同的应用场合有不同的侧重方面，你觉得哪个特点对你来说是最重要的呢？</p> <p>笔者认为：灵活可扩展是最重要的，不然也不会屹立三十年不倒了</p></li></ol> <h2 id="课外小贴士"><a href="#课外小贴士" class="header-anchor">#</a> 课外小贴士</h2> <ul><li>如果要 100% 保证数据收发成功就不能使用 HTTP 或则 TCP 协议了，而是要用各种消息中间件（MQ），如 RabbitMQ、ZeroMQ、Kafka 等</li> <li>以前 HTTP 协议还有一个 <strong>无连接</strong> 的特点，指的是协议不保持连接状态，每次请求应答后都会关闭连接，这就和 UDP 几乎一模一样了。但这样很影响性能，在 HTTP/1.1 里就改成了总是默认启用 keepalive 长连接机制，所以现在的 HTTP 已经不再是 <strong>无连接</strong> 的了</li> <li>注意 HTTP 的 <strong>无状态</strong> 特点与响应头里的 <strong>状态码</strong> 是完全不相关的两个概念，状态码表示的是此次报文处理的结果，并不会导致服务器内部状态变化</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zq99299/note-book2/edit/man/docs/http-protocol/03/06.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-05-06 09:26:26</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note-book2/http-protocol/03/05.html" class="prev">
        05 | 响应状态码该怎么用？
      </a></span> <span class="next"><a href="/note-book2/http-protocol/03/07.html">
        07 | HTTP有哪些优点？又有哪些缺点？
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/note-book2/assets/js/app.b6298c27.js" defer></script><script src="/note-book2/assets/js/2.64eb5107.js" defer></script><script src="/note-book2/assets/js/74.74bf2cc7.js" defer></script><script src="/note-book2/assets/js/50.da39fd24.js" defer></script>
  </body>
</html>
